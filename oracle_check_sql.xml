<?xml version="1.0" encoding="UTF-8"?>
<SQL_LIST>
	<ORACLE_SESSION_CHECK>
		<![CDATA[
			SELECT /*+ QUERY_CHECK */
				SQL_ID
			FROM V$SESSION 
			WHERE STATUS = 'ACTIVE' AND TYPE <> 'BACKGROUND'
			AND SQL_ID IS NOT NULL
		]]>
	</ORACLE_SESSION_CHECK>
	<ORACLE_SQL_FULLTEXT>
		<![CDATA[
			SELECT /*+ QUERY_CHECK */
				TO_CHAR(SYSDATE, 'YYYYMMDD') AS CHK_DT, 
				CHILD_ADDRESS,
				SQL_FULLTEXT 
			FROM V$SQL 
			WHERE SQL_ID = ?
			AND SQL_TEXT NOT LIKE '%QUERY_CHECK%'
		]]>
	</ORACLE_SQL_FULLTEXT>
	<ORACLE_SQL_BIND_VALUE>
		<![CDATA[
			SELECT
			    LISTAGG(A.BIND_VALUE_SRC, ' ') WITHIN GROUP (ORDER BY A.PS) AS BIND_VALUE
			FROM
			(
			    SELECT /*+ QUERY_CHECK */
			        POSITION AS PS,
			        NAME || '@@' || POSITION || ',//,' || DATATYPE_STRING || '@@' || VALUE_STRING || CHR(13)||CHR(10) AS BIND_VALUE_SRC
			    FROM V$SQL_BIND_CAPTURE 
			    WHERE SQL_ID = ? 
			    AND CHILD_ADDRESS = ?
			    ORDER BY POSITION
			) A
		]]>
	</ORACLE_SQL_BIND_VALUE>
	<ORACLE_EXISTS_CHECK>
		<![CDATA[
			SELECT /*+ QUERY_CHECK */
				COUNT(*) AS EXISTS_CNT
			FROM SQL_EXPLN_CHK
			WHERE CHK_DT = ?
			AND SQL_ID = ?
			AND CHILD_ADDRESS = ?
		]]>
	</ORACLE_EXISTS_CHECK>
	<ORACLE_INS_SQL>
		<![CDATA[
			INSERT /*+ QUERY_CHECK */ INTO SQL_EXPLN_CHK (
				CHK_DT, 
				SQL_ID, 
				CHILD_ADDRESS, 
				SQL_FULLTEXT,
				BIND_VALUE, 
				CHK_YN)
			VALUES (
				?, 
				?, 
				?, 
				EMPTY_CLOB(),
				?, 
				'N'
			)
		]]>
	</ORACLE_INS_SQL>
	<ORACLE_UPD_CLOB_SQL>
		<![CDATA[
			SELECT /*+ QUERY_CHECK */ 
				SQL_FULLTEXT 
			FROM SQL_EXPLN_CHK 
			WHERE CHK_DT = ?
			AND SQL_ID = ?
			AND CHILD_ADDRESS = ?
			FOR UPDATE
		]]>
	</ORACLE_UPD_CLOB_SQL>	
</SQL_LIST>
